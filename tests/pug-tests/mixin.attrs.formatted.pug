mixin centered(title)
  .centered(id=attributes.id)
    - if (title)
      h1(class=attributes.class)= title
    block
    - if (attributes.href)
      .footer
        a(href=attributes.href) Back

mixin main(title)
  .stretch
    +centered(title).highlight&attributes(attributes)
      block

mixin bottom
  .bottom&attributes(attributes)
    block

body
  +centered#First Hello World
  +centered('Section 1')#Second
    p Some important content.
  +centered('Section 2')#Third.foo.bar(href="menu.html")
    p Even more important content.
  +main('Section 3')(href="#")
    p Last content.
  +bottom#Last.foo.bar(name="end", data-attr="baz")
    p Some final words.
  +bottom(class=["class1", "class2"])

mixin foo
  .thing(attr1="foo", attr2="bar")&attributes(attributes)

- var val = "<biz>";
- var classes = ["foo", "bar"];
+foo.thunk(attr3="baz", data-foo=val, data-bar!=val, class=classes)

//- Regression test for #1424
mixin work_filmstrip_item(work)
  div&attributes(attributes)= work
+work_filmstrip_item('work')(data-profile="profile", data-creator-name="name")

mixin my-mixin(arg1, arg2, arg3, arg4)
  p= arg1
  p= arg2
  p= arg3
  p= arg4

+foo.baz(attr3="qux")

+my-mixin('1', '2', '3', '4')
